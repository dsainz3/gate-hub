theater_left_candy_cane_start:
  alias: "Start Candy Cane: Theater Left"
  mode: restart
  sequence:
    - service: input_boolean.turn_on
      target:
        entity_id: input_boolean.theater_left_candy_cane
    - repeat:
        while:
          - condition: state
            entity_id: input_boolean.theater_left_candy_cane
            state: "on"
        sequence:
          - service: scene.turn_on
            target:
              entity_id: scene.theater_left_red
          - delay:
              seconds: "{{ states('input_number.theater_left_candy_cane_delay') | float(2) }}"
          - service: scene.turn_on
            target:
              entity_id: scene.theater_left_green
          - delay:
              seconds: "{{ states('input_number.theater_left_candy_cane_delay') | float(2) }}"

theater_left_candy_cane_stop:
  alias: "Stop Candy Cane: Theater Left"
  sequence:
    - service: input_boolean.turn_off
      target:
        entity_id: input_boolean.theater_left_candy_cane

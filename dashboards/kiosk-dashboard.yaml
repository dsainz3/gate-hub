title: 'Kiosk'
views:
  - title: 'Control'
    path: control
    icon: mdi:lightbulb-group
    cards:
      # --- HUMIDOR (Temp, RH, Status, Plug Power + Alerts) ---
      - type: vertical-stack
        cards:
          - type: markdown
            content: '### Humidor'

          # Gauges
          - type: grid
            columns: 2
            square: false
            cards:
              - type: gauge
                name: Temperature (Â°F)
                entity: sensor.hygrometer_humidor_temperature
                min: 55
                max: 85
              - type: gauge
                name: Humidity (%)
                entity: sensor.hygrometer_humidor_humidity
                min: 40
                max: 80

          # Status + Power + Battery + Watts
          - type: entities
            state_color: true
            show_header_toggle: false
            entities:
              - entity: sensor.humidor_status
                name: System Status
              - entity: sensor.plug_humidor_power
                name: Plug Power (W)
              - entity: switch.plug_humidor
                name: Power
              - entity: sensor.hygrometer_humidor_battery
                name: Hygrometer Battery

          # Alerts (show only when out of range)
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.hygrometer_humidor_humidity
                below: 60
            card:
              type: markdown
              content: |
                **ðŸŸ  Humidity Low**
                Current: **{{ states('sensor.hygrometer_humidor_humidity') }}%** (target 62â€“70%)

          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.hygrometer_humidor_humidity
                above: 70
            card:
              type: markdown
              content: |
                **ðŸŸ  Humidity High**
                Current: **{{ states('sensor.hygrometer_humidor_humidity') }}%** (target 62â€“70%)

          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.hygrometer_humidor_temperature
                below: 62
            card:
              type: markdown
              content: |
                **ðŸŸ  Temperature Low**
                Current: **{{ states('sensor.hygrometer_humidor_temperature') }}Â°F** (target ~65â€“72Â°F)

          - type: conditional
            conditions:
              - condition: numeric_state
                entity: sensor.hygrometer_humidor_temperature
                above: 74
            card:
              type: markdown
              content: |
                **ðŸŸ  Temperature High**
                Current: **{{ states('sensor.hygrometer_humidor_temperature') }}Â°F** (target ~65â€“72Â°F)

      #########################################################################
      # QUICK ACTIONS â€” LIGHTS
      #########################################################################
      - type: grid
        title: 'Quick Actions â€” Lights'
        columns: 4
        square: false
        cards:
          - type: button
            name: 'All Lights â€” ON'
            icon: mdi:lightbulb-on
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_all_lights_on }
          - type: button
            name: 'All Lights â€” OFF'
            icon: mdi:lightbulb-off
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_all_lights_off }

          - type: button
            name: 'Exterior â€” ON'
            icon: mdi:lightbulb-group-outline
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_exterior_on }
          - type: button
            name: 'Exterior â€” OFF'
            icon: mdi:lightbulb-group-off-outline
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_exterior_off }

          - type: button
            name: 'Theater â€” ON'
            icon: mdi:movie-open
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_theater_on }
          - type: button
            name: 'Theater â€” OFF'
            icon: mdi:movie-off
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_theater_off }

          - type: button
            name: 'Front â€” ON'
            icon: mdi:coach-lamp
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_front_on }
          - type: button
            name: 'Front â€” OFF'
            icon: mdi:coach-lamp
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_front_off }

          - type: button
            name: 'Garage â€” ON'
            icon: mdi:garage-open
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_garage_on }
          - type: button
            name: 'Garage â€” OFF'
            icon: mdi:garage
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_garage_off }

      #########################################################################
      # QUICK ACTIONS â€” DEVICES
      #########################################################################
      - type: grid
        title: 'Quick Actions â€” Devices'
        columns: 4
        square: false
        cards:
          - type: button
            name: 'Purifiers â€” ON'
            icon: mdi:air-purifier
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_purifiers_on }
          - type: button
            name: 'Purifiers â€” OFF'
            icon: mdi:air-purifier-off
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_purifiers_off }

          - type: button
            name: 'Plugs â€” ON'
            icon: mdi:power-socket-us
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_plugs_on }
          - type: button
            name: 'Plugs â€” OFF'
            icon: mdi:power-socket-off
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_plugs_off }

          - type: button
            name: 'Light Relays â€” ON'
            icon: mdi:toggle-switch
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_light_relays_on }
          - type: button
            name: 'Light Relays â€” OFF'
            icon: mdi:toggle-switch-off
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_light_relays_off }

          - type: button
            name: 'All Plugs OFF (Safety)'
            icon: mdi:alert
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_all_plugs_off }

          - type: button
            name: 'Reload Automations'
            icon: mdi:refresh-auto
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_reload_automations }
          - type: button
            name: 'Reload Scripts'
            icon: mdi:script-text-outline
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_reload_scripts }
          - type: button
            name: 'Reload Scenes'
            icon: mdi:palette-swatch
            tap_action:
              action: call-service
              service: script.turn_on
              target: { entity_id: script.kiosk_reload_scenes }

      #########################################################################
      # GROUP OVERVIEW (toggles)
      #########################################################################
      - type: entities
        title: 'Groups Overview'
        state_color: true
        show_header_toggle: false
        entities:
          - entity: group.kiosk_all_lights_core
            name: 'All Lights (Core)'
          - entity: group.kiosk_exterior_lights
            name: 'Exterior Lights'
          - entity: group.kiosk_theater_lights
            name: 'Theater Lights'
          - entity: group.kiosk_front_lights
            name: 'Front Lights'
          - entity: group.kiosk_garage_lights
            name: 'Garage Lights'
          - entity: group.kiosk_purifiers
            name: 'Purifiers'
          - entity: group.kiosk_plugs
            name: 'Plugs'
          - entity: group.kiosk_light_power_switches
            name: 'Light Power Switches'

      #########################################################################
      # LIGHTS â€” INDIVIDUAL (No segments)
      #########################################################################
      - type: entities
        title: 'Lights â€” Individual'
        state_color: true
        show_header_toggle: false
        entities:
          - light.all_lights
          - light.office_lights
          - light.theater_lights
          - light.front_porch_lights
          - light.all_exterior_lights
          - light.permanent_outdoor_lights
          - light.light_theater_left
          - light.light_theater_right
          - light.light_front_left
          - light.light_front_right
          - light.lights_garage_center
          - light.light_garage_left
          - light.light_garage_right
          - light.light_parents
          - light.light_guest_room
          - light.light_attic
          - light.sunroom_light
          - light.livingroom_light
          - light.diningroom_light
          - light.light_office
          - light.spare_light

      #########################################################################
      # PURIFIERS â€” POWER & MODES
      #########################################################################
      - type: entities
        title: 'Purifiers'
        state_color: true
        show_header_toggle: false
        entities:
          - entity: switch.bedroom_purifier_power_switch
            name: 'Bedroom Purifier Power'
          - entity: select.bedroom_purifier_mode
            name: 'Bedroom Mode'
          - entity: number.bedroom_purifier_gearmode
            name: 'Bedroom Gear'

          - type: divider

          - entity: switch.guest_room_purifier_power_switch
            name: 'Guest Room Purifier Power'
          - entity: select.guest_room_purifier_mode
            name: 'Guest Room Mode'
          - entity: number.guest_room_purifier_gearmode
            name: 'Guest Room Gear'

          - type: divider

          - entity: switch.garage_air_purifier_power_switch
            name: 'Garage Purifier Power'
          - entity: select.garage_air_purifier_mode
            name: 'Garage Mode'
          - entity: number.garage_air_purifier_gearmode
            name: 'Garage Gear'

      #########################################################################
      # PLUGS â€” POWER & LIVE WATTS
      #########################################################################
      - type: entities
        title: 'Plugs & Power'
        state_color: true
        show_header_toggle: false
        entities:
          - entity: switch.plug_basement_burner
            name: 'Basement Burner'
          - entity: sensor.plug_basement_burner_power
            name: 'Basement Burner Power (W)'

          - type: divider

          - entity: switch.plug_mainfloor_burner
            name: 'Mainfloor Burner'
          - entity: sensor.plug_mainfloor_burner_power
            name: 'Mainfloor Burner Power (W)'

          - type: divider

          - entity: switch.plug_bedroom_burner
            name: 'Bedroom Burner'
          - entity: sensor.plug_bedroom_burner_power
            name: 'Bedroom Burner Power (W)'

          - type: divider

          - entity: switch.plug_humidor
            name: 'Humidor'
          - entity: sensor.plug_humidor_power
            name: 'Humidor Power (W)'

          - type: divider

          - entity: switch.tree_power_switch
            name: 'Tree Power'

# dashboards/huskers-all.yaml
title: Memorial Stadium Command Center
theme: Huskers Cream
views:
  # ======================
  # View 1 — Game Day
  # ======================
  - title: Game Day
    path: huskers-gameday
    icon: mdi:football
    cards:
      # Header / quick info (standard Markdown)
      - type: markdown
        content: |
          ## Nebraska Cornhuskers — Game Center
          {{ state_attr('sensor.huskers_game_status_espn','phase') | default('') }}

          {% set opp  = state_attr('sensor.huskers_game_status_espn','opponent_name') %}
          {% set venue= state_attr('sensor.huskers_game_status_espn','venue_name') %}
          {% set city = state_attr('sensor.huskers_game_status_espn','venue_city') %}
          {% set tv   = state_attr('sensor.huskers_game_status_espn','tv') %}

          **Opponent:** {{ opp or 'TBD' }}
          **Venue:** {{ venue or 'TBD' }} — {{ city or '' }}
          **TV:** {{ tv or 'TBD' }}

      # Record line (standard Entities)
      - type: entities
        title: Record
        entities:
          - entity: sensor.huskers_record_dashboard

      # Kickoff time remaining (standard Entities)
      - type: entities
        title: Kickoff
        entities:
          - entity: sensor.huskers_kickoff_in_effective
            name: Minutes to kickoff

      # >>> NEW: Kickoff gauge (standard Gauge; inherits theme accents)
      - type: gauge
        name: Kickoff (minutes)
        entity: sensor.huskers_kickoff_in_effective
        min: 0
        max: 180
        needle: true
        severity:
          green: 180
          yellow: 60
          red: 30

      # Game status / score state (standard Entities)
      - type: entities
        title: Game status
        entities:
          - entity: sensor.huskers_game_status_espn

      # Schedule from ESPN (standard Markdown via template attribute)
      - type: markdown
        title: Schedule
        content: |
          {{ state_attr('sensor.huskers_schedule_combined','markdown') }}

      # Big Ten standings (standard Markdown via template attribute)
      - type: markdown
        title: Big Ten Standings
        content: |
          {{ state_attr('sensor.big_ten_standings_espn','markdown') }}

  # ======================
  # View 2 — Light Show Control
  # (keep your existing content here; left minimal & standard)
  # ======================
  - title: Light Show Control
    path: huskers-lights
    icon: mdi:lightbulb-multiple
    cards:
      - type: entities
        title: Theater Controls
        entities:
          - entity: script.huskers_theater_game_show_start
            name: START Huskers Game Show
          - entity: script.huskers_theater_game_show_stop
            name: STOP Game Show
          - entity: input_boolean.huskers_theater_show_running
            name: Show Status

  # ======================
  # View 3 — System Status
  # (keep your existing content here; standard Entities only)
  # ======================
  - title: System Status
    path: huskers-system
    icon: mdi:heart-pulse
    cards:
      - type: entities
        title: Huskers Sensors Health
        entities:
          - entity: sensor.espn_cfb_scoreboard
          - entity: sensor.espn_nebraska_schedule
          - entity: sensor.espn_big_ten_teams
          - entity: sensor.huskers_game_status_espn
          - entity: sensor.huskers_record

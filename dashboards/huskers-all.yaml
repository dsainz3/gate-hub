# dashboards/huskers-all.yaml
title: Memorial Stadium Command Center
theme: Huskers Cream
views:
  - title: Game Day
    path: huskers-gameday
    icon: mdi:football
    badges: []
    cards:
      - type: markdown
        title: Huskers Scoreboard
        content: >
          <table width="100%" style="background:#101820; color:#ffffff; border-radius:12px; padding:16px;">
            <tr>
              <td width="33%" valign="top" align="left">
                <img src="{{ states('sensor.huskers_team_logo') }}" alt="Nebraska" height="64"><br>
                <strong style="font-size:22px;">{{ states('sensor.huskers_team_name') }}</strong><br>
                Record: {{ states('sensor.huskers_team_record') }}<br>
                Rank: {{ states('sensor.huskers_team_rank') }}
              </td>
              <td width="34%" valign="top" align="center">
                <div style="font-size:52px; font-weight:700;">{{ states('sensor.huskers_team_score') }}</div>
                <div style="font-size:18px; margin-bottom:12px;">vs</div>
                <div style="font-size:52px; font-weight:700;">{{ states('sensor.huskers_opponent_score') }}</div>
                <p>Quarter {{ states('sensor.huskers_quarter') }} | {{ states('sensor.huskers_game_clock_ct') }}</p>
                <p>{{ states('sensor.huskers_game_phase_label') }}</p>
                <p>Status: {{ states('sensor.huskers_game_status_espn') }}</p>
                <p>Kickoff In: {{ states('sensor.huskers_kickoff_in') }} min</p>
              </td>
              <td width="33%" valign="top" align="right">
                <img src="{{ states('sensor.huskers_opponent_logo') }}" alt="Opponent" height="64"><br>
                <strong style="font-size:22px;">{{ states('sensor.huskers_opponent_name') }}</strong><br>
                Record: {{ states('sensor.huskers_opponent_record') }}<br>
                Rank: {{ states('sensor.huskers_opponent_rank') }}
              </td>
            </tr>
          </table>
          <p>{{ states('sensor.huskers_game_detail') }}</p>
          <p>{{ states('sensor.huskers_hype_message') }}</p>

      - type: grid
        columns: 2
        square: false
        cards:
          - type: markdown
            content: >
              ### Drive and Possession
              - **Possession:** {{ states('sensor.huskers_possession') }}
              - **Last Play:** {{ states('sensor.huskers_last_play') }}
              - **Down & Distance:** {{ states('sensor.huskers_down_distance') }}
              - **Series Summary:** {{ states('sensor.huskers_series_summary') }}
          - type: entities
            title: Game Controls & Flags
            state_color: true
            entities:
              - sensor.huskers_tailgate_countdown
              - sensor.huskers_event_url
              - sensor.huskers_team_timeouts
              - sensor.huskers_opponent_timeouts
              - binary_sensor.huskers_is_pregame_espn
              - binary_sensor.huskers_is_live_espn
              - binary_sensor.huskers_is_postgame_espn

      - type: grid
        columns: 2
        square: false
        cards:
          - type: gauge
            entity: sensor.huskers_win_probability
            name: Huskers Win %
            min: 0
            max: 100
            needle: true
            severity:
              green: 60
              yellow: 40
              red: 0
          - type: gauge
            entity: sensor.huskers_opponent_win_probability
            name: Opponent Win %
            min: 0
            max: 100
            needle: true
            severity:
              green: 0
              yellow: 40
              red: 60

      - type: grid
        columns: 2
        square: false
        cards:
          - type: button
            name: Start 30s Cream Chase
            icon: mdi:play-circle
            tap_action:
              action: call-service
              service: script.turn_on
              target:
                entity_id: script.huskers_chase30_start
          - type: button
            name: Start Variable Speed Chase
            icon: mdi:speedometer
            tap_action:
              action: call-service
              service: script.turn_on
              target:
                entity_id: script.huskers_chase_speed_start
          - type: button
            name: Hail Varsity Burst
            icon: mdi:firework
            tap_action:
              action: call-service
              service: script.turn_on
              target:
                entity_id: script.huskers_hail_burst_8s
          - type: button
            name: Stop All Huskers Shows
            icon: mdi:stop-circle
            tap_action:
              action: call-service
              service: script.turn_on
              target:
                entity_id: script.kiosk_stop_all_huskers_shows

      - type: markdown
        title: Nebraska Schedule
        content: >
          {{ state_attr('sensor.huskers_schedule_combined', 'markdown') }}

      - type: markdown
        title: Big Ten Standings
        content: >
          {{ state_attr('sensor.big_ten_standings_espn', 'markdown') }}

      - type: markdown
        title: Tailgate & Traditions
        content: >
          **Tailgate Countdown:** {{ states('sensor.huskers_tailgate_countdown') }}
          **Event Link:** [Open ESPN]({{ states('sensor.huskers_event_url') }})
          **Fight Song:**
          {{ states('sensor.huskers_fight_song_verse') }}

  - title: Light Show Control
    path: huskers-lights
    icon: mdi:lightbulb-multiple
    badges: []
    cards:
      - type: entities
        title: Theater Controls
        entities:
          - entity: script.huskers_theater_game_show_start
            name: START Huskers Game Show
          - entity: script.huskers_theater_game_show_stop
            name: STOP Game Show
          - entity: input_boolean.huskers_theater_show_running
            name: Show Status

  - title: System Status
    path: huskers-system
    icon: mdi:heart-pulse
    badges: []
    cards:
      - type: entities
        title: Huskers Sensors Health
        entities:
          - entity: sensor.espn_cfb_scoreboard
          - entity: sensor.espn_nebraska_schedule
          - entity: sensor.espn_big_ten_teams
          - entity: sensor.huskers_game_status_espn
          - entity: sensor.huskers_record

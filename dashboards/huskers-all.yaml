# dashboards/huskers-all.yaml
title: Memorial Stadium Command Center
theme: Huskers Cream
views:
  - title: Game Day
    path: huskers-gameday
    icon: mdi:football
    badges: []
    cards:
      # Header / quick info — shows the sensor state and actual attributes it exposes
      - type: entities
        title: Nebraska Cornhuskers — Game Center
        entities:
          - type: attribute
            entity: sensor.huskers_next_game
            attribute: date
            name: Date
          - type: attribute
            entity: sensor.huskers_next_game
            attribute: time
            name: Time
          - type: attribute
            entity: sensor.huskers_next_game
            attribute: location
            name: Location
          - type: attribute
            entity: sensor.huskers_next_game
            attribute: opponent
            name: Opponent

      - type: entities
        title: Record
        entities:
          - entity: sensor.huskers_record_dashboard
            name: Nebraska

      - type: entities
        title: Kickoff
        entities:
          - entity: sensor.huskers_kickoff_in_effective
            name: Minutes to kickoff

      - type: grid
        columns: 3
        square: false
        cards:
          - type: markdown
            content: >
              {% set odds = states('sensor.huskers_win_probability') %}
              <div style="text-align:center;">
                <div style="font-weight:700;color:#cc0000;">Huskers</div>
                <div style="font-size:1.6rem;">
                  {% if odds in ['unknown','unavailable',''] %}
                    --
                  {% else %}
                    {{ odds | float(0) | round(1) }}%
                  {% endif %}
                </div>
              </div>
          - type: gauge
            name: Win Probability
            entity: sensor.huskers_win_probability
            min: 0
            max: 100
            needle: true
            severity:
              green: 70
              yellow: 55
              red: 40
          - type: markdown
            content: >
              {% set odds = states('sensor.huskers_opponent_win_probability') %}
              {% set opponent = states('sensor.huskers_opponent_name') %}
              <div style="text-align:center;">
                <div style="font-weight:700;color:#1f2933;">
                  {{ opponent if opponent not in ['unknown','unavailable',''] else 'Opponent' }}
                </div>
                <div style="font-size:1.6rem;">
                  {% if odds in ['unknown','unavailable',''] %}
                    --
                  {% else %}
                    {{ odds | float(0) | round(1) }}%
                  {% endif %}
                </div>
              </div>
      - type: entities
        title: Game status
        entities:
          - entity: sensor.huskers_game_status_espn

      - type: markdown
        title: Schedule
        content: |
          {{ state_attr('sensor.huskers_schedule_combined','markdown') }}

      - type: markdown
        title: Big Ten Standings
        content: |
          {{ state_attr('sensor.big_ten_standings_espn','markdown') }}

  - title: Light Show Control
    path: huskers-lights
    icon: mdi:lightbulb-multiple
    badges: []
    cards:
      - type: entities
        title: Theater Controls
        entities:
          - entity: script.huskers_theater_game_show_start
            name: START Huskers Game Show
          - entity: script.huskers_theater_game_show_stop
            name: STOP Game Show
          - entity: input_boolean.huskers_theater_show_running
            name: Show Status

  - title: System Status
    path: huskers-system
    icon: mdi:heart-pulse
    badges: []
    cards:
      - type: entities
        title: Huskers Sensors Health
        entities:
          - entity: sensor.espn_cfb_scoreboard
          - entity: sensor.espn_nebraska_schedule
          - entity: sensor.espn_big_ten_teams
          - entity: sensor.huskers_game_status_espn
          - entity: sensor.huskers_record

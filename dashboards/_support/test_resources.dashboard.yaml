title: Support · Test Resources
views:
  - title: Test Bench
    path: support-test
    icon: mdi:test-tube
    type: sections
    theme: Support Test Gold
    max_columns: 3
    sections:
      - type: grid
        title: Resource Smoke Tests
        columns: 2
        cards:
          - type: custom:mushroom-title-card
            title: Smoke Test Readiness
            subtitle: Validate helper resources before running regression jobs.
            alignment: center
            view_layout:
              column_span: 2
          - type: custom:mushroom-chips-card
            alignment: center
            chips:
              - type: template
                icon: mdi:check-circle
                icon_color: green
                content: layout-card.js
              - type: template
                icon: mdi:check-circle
                icon_color: green
                content: grid-layout.js
              - type: template
                icon: mdi:auto-fix
                icon_color: green
                content: auto-entities
              - type: template
                icon: mdi:palette-swatch
                icon_color: >-
                  {{ 'green' if is_state('input_boolean.theme_loader_status', 'on') else 'amber' }}
                content: Theme helpers
                tap_action:
                  action: more-info
                  entity: input_boolean.theme_loader_status
            view_layout:
              column_span: 2
          - type: markdown
            content: >-
              ### Purpose

              Confirm that custom cards, layout helpers, and supporting entities
              are available before capturing screenshots or running UI
              regression tests. The hero strip keeps quick status pills front and
              centre while the inventory below surfaces live sensor data.
            view_layout:
              column_span: 2
          - type: custom:auto-entities
            show_empty: false
            card:
              type: entities
              title: Sensor inventory (sample)
              state_color: true
              show_header_toggle: false
            card_param: entities
            filter:
              include:
                - domain: sensor
                  options:
                    secondary_info: last-changed
              exclude:
                - domain: weather
                - state: unavailable
                - state: unknown
            sort:
              method: friendly_name
            limit: 12
            view_layout:
              column_span: 2
      - type: grid
        title: Lighting Lab
        columns: 2
        cards:
          - type: custom:mushroom-template-card
            entity: script.test_halloween
            icon: mdi:play-circle
            icon_color: orange
            primary: Start Halloween Lights
            secondary: Kick off the animated holiday lighting scene.
            layout: vertical
            fill_container: true
            multiline_secondary: true
            tap_action:
              action: call-service
              service: script.turn_on
              target:
                entity_id: script.test_halloween
            card_mod:
              style: |
                ha-card {
                  --mush-icon-size: 56px;
                }
          - type: custom:mushroom-template-card
            entity: script.test_halloween
            icon: mdi:stop-circle
            icon_color: red
            primary: Stop Halloween Lights
            secondary: Halt the animation immediately for quick resets.
            layout: vertical
            fill_container: true
            multiline_secondary: true
            tap_action:
              action: call-service
              service: script.turn_off
              target:
                entity_id: script.test_halloween
            card_mod:
              style: |
                ha-card {
                  --mush-icon-size: 56px;
                }
          - type: custom:mushroom-template-card
            icon: mdi:lightbulb-multiple-outline
            icon_color: blue
            primary: Scene Preview Slot
            secondary: Reserve this bay for upcoming dimmer sliders or preview scenes as additional tests are added.
            layout: vertical
            fill_container: true
            tap_action:
              action: none
            view_layout:
              column_span: 2
            card_mod:
              style: |
                ha-card {
                  --mush-icon-size: 48px;
                  opacity: 0.8;
                }
          - type: markdown
            content: >-
              #### Test Notes

              These helpers exercise the `script.test_halloween` routine from the
              holiday lighting package. Run a full start/stop cycle before
              enabling seasonal automations or capturing dashboards so the
              animation and scripts remain verified.
            view_layout:
              column_span: 2
  - title: Plex · Theater
    path: support-test-plex
    icon: mdi:plex
    type: sections
    theme: Support Test Gold
    max_columns: 2
    sections:
      - type: grid
        title: Theater Status
        columns: 2
        cards:
          - type: custom:mushroom-media-player-card
            entity: media_player.basement_fire_tv
            name: Basement Theater Fire TV
            use_media_info: true
            show_volume_level: true
            layout: horizontal
            fill_container: true
            tap_action:
              action: more-info
            view_layout:
              column_span: 2
          - type: custom:mushroom-template-card
            entity: binary_sensor.basement_theater_active
            icon: mdi:movie-open
            icon_color: >-
              {{ 'orange' if is_state('binary_sensor.basement_theater_active', 'on') else 'grey' }}
            primary: >-
              {{ 'Theater Active' if is_state('binary_sensor.basement_theater_active', 'on') else 'Theater Idle' }}
            secondary: >-
              Fire TV: {{ states('sensor.basement_theater_media_status') }} · App:
              {{ state_attr('sensor.basement_theater_media_status', 'app_name') or 'unknown' }}
            layout: horizontal
            fill_container: true
            tap_action:
              action: more-info
          - type: custom:mushroom-template-card
            entity: sensor.plex_server_sessions
            icon: mdi:plex
            icon_color: amber
            primary: Plex Sessions
            secondary: >-
              Active streams: {{ states('sensor.plex_server_sessions') }} ·
              Client online: {{ 'Yes' if is_state('media_player.basement_fire_tv', 'on') else 'No' }}
            layout: horizontal
            fill_container: true
            tap_action:
              action: more-info
          - type: custom:mushroom-chips-card
            alignment: start
            chips:
              - type: template
                icon: mdi:chart-timeline-variant
                icon_color: blue
                content: >-
                  Last change · {{ state_attr('sensor.basement_theater_media_status', 'last_changed') or 'unknown' }}
              - type: template
                icon: mdi:plex
                icon_color: amber
                content: >-
                  Sessions · {{ states('sensor.plex_server_sessions') }}
              - type: template
                icon: mdi:access-point-network
                icon_color: >-
                  {{ 'green' if is_state('binary_sensor.basement_theater_active', 'on') else 'grey' }}
                content: >-
                  {{ 'Client online' if is_state('media_player.basement_fire_tv', 'on') else 'Client idle' }}
            view_layout:
              column_span: 2
      - type: grid
        title: Quick Controls
        cards:
          - type: custom:mushroom-chips-card
            alignment: start
            chips:
              - type: template
                icon: mdi:television-play
                icon_color: indigo
                content: Launch Plex
                tap_action:
                  action: call-service
                  service: script.turn_on
                  target:
                    entity_id: script.basement_fire_tv_launch_plex
              - type: template
                icon: mdi:play-pause
                icon_color: deep-orange
                content: Play/Pause
                tap_action:
                  action: call-service
                  service: script.turn_on
                  target:
                    entity_id: script.basement_fire_tv_play_pause
              - type: template
                icon: mdi:remote-tv
                icon_color: teal
                content: Fire TV Home
                tap_action:
                  action: call-service
                  service: script.turn_on
                  target:
                    entity_id: script.basement_fire_tv_home
              - type: template
                icon: mdi:television-off
                icon_color: red
                content: Power Off
                tap_action:
                  action: call-service
                  service: script.turn_on
                  target:
                    entity_id: script.basement_fire_tv_power_off
              - type: template
                icon: mdi:update
                icon_color: amber
                content: Refresh Plex
                tap_action:
                  action: call-service
                  service: script.turn_on
                  target:
                    entity_id: script.plex_refresh_clients
          - type: markdown
            content: >-
              Use the chips above for rapid control during regression tests. The
              Launch and Power controls wake or shut down the Fire TV, while the
              refresh button forces a Plex client discovery sweep.
      - type: grid
        title: Telemetry
        cards:
          - type: custom:mushroom-entity-card
            entity: sensor.basement_theater_media_status
            name: Fire TV Status
            icon: mdi:television-classic
            layout: horizontal
          - type: custom:mushroom-entity-card
            entity: sensor.plex_server_sessions
            name: Plex Sessions
            icon: mdi:plex
            layout: horizontal
          - type: custom:mushroom-entity-card
            entity: sensor.plex
            name: Plex Raw Sensor
            icon: mdi:database
            layout: horizontal
          - type: custom:mushroom-template-card
            entity: button.plex_scan_clients
            icon: mdi:plex
            icon_color: amber
            primary: Plex Scan Clients
            secondary: Press to refresh the Plex integration roster.
            layout: horizontal
            fill_container: true
            tap_action:
              action: call-service
              service: button.press
              target:
                entity_id: button.plex_scan_clients
      - type: grid
        title: Library
        cards:
          - type: markdown
            content: >-
              ### Plex Library Browser

              Browse the Plex catalogue directly from this dashboard when testing
              new client behaviours. Launch titles on the basement Fire TV with a
              single tap.
          - type: media-browser
            entity: media_player.plex_plex_for_android_tv_aftgazl
            title: Plex Library Browser

title: Huskers Live & Debug
views:
  # ======================
  # VIEW 1 â€” Live Game
  # ======================
  - title: Live Game
    path: huskers-live
    icon: mdi:stadium
    theme: default
    badges: []
    cards:
      - type: markdown
        content: >
          # ðŸˆ **Nebraska Huskers â€” Live**
          Real-time game status from `sensor.husker_team`. Buttons below control
          shows, bursts, and LEDs.

      # ---- Core game sensor state ----
      - type: entities
        title: Game â€” Status
        show_header_toggle: false
        entities:
          - entity: sensor.husker_team
            name: Game State (PRE/IN/POST)
          - type: attribute
            entity: sensor.husker_team
            attribute: event_name
            name: Matchup
          - type: attribute
            entity: sensor.husker_team
            attribute: venue
            name: Venue
          - type: attribute
            entity: sensor.husker_team
            attribute: location
            name: Location
          - type: attribute
            entity: sensor.husker_team
            attribute: tv_network
            name: Broadcast
          - type: attribute
            entity: sensor.husker_team
            attribute: date
            name: Kickoff (UTC ISO)

      # ---- (Optional) Central Time helpers (shown if present) ----
      - type: conditional
        conditions:
          - entity: sensor.huskers_kickoff_time_ct
            state_not: unavailable
        card:
          type: entities
          title: Time â€” Central (CT)
          show_header_toggle: false
          entities:
            - entity: sensor.huskers_kickoff_time_ct
              name: Kickoff (CT)
            - entity: sensor.huskers_game_clock_ct
              name: Clock (CT)
            - entity: sensor.huskers_kickoff_in
              name: Kickoff In

      # ---- Scoreboard (attributes from sensor.husker_team) ----
      - type: entities
        title: Scoreboard
        show_header_toggle: false
        entities:
          - type: attribute
            entity: sensor.husker_team
            attribute: team_long_name
            name: Nebraska
          - type: attribute
            entity: sensor.husker_team
            attribute: team_score
            name: Nebraska Score
          - type: attribute
            entity: sensor.husker_team
            attribute: opponent_long_name
            name: Opponent
          - type: attribute
            entity: sensor.husker_team
            attribute: opponent_score
            name: Opponent Score
          - type: attribute
            entity: sensor.husker_team
            attribute: odds
            name: Odds
          - type: attribute
            entity: sensor.husker_team
            attribute: overunder
            name: Over/Under

      # ---- Game controls ----
      - type: grid
        square: false
        columns: 3
        cards:
          - type: button
            name: Start Gameday LEDs (LED_Gametime)
            icon: mdi:led-strip-variant
            tap_action:
              action: call-service
              service: script.huskers_led_gameday_start
          - type: button
            name: TD Burst (LED 30s)
            icon: mdi:flash
            tap_action:
              action: call-service
              service: script.huskers_led_td_burst
          - type: button
            name: Cleanup (Stop All)
            icon: mdi:broom
            tap_action:
              action: call-service
              service: script.huskers_cleanup_all

      - type: grid
        square: false
        columns: 4
        cards:
          - type: button
            name: Theater Start
            icon: mdi:movie-open-star
            tap_action:
              action: call-service
              service: script.huskers_theater_show_start
          - type: button
            name: Theater Stop
            icon: mdi:movie-open-off
            tap_action:
              action: call-service
              service: script.huskers_theater_show_stop
          - type: button
            name: Exterior Start
            icon: mdi:coach-lamp
            tap_action:
              action: call-service
              service: script.huskers_exterior_show_start
          - type: button
            name: Exterior Stop
            icon: mdi:coach-lamp-off
            tap_action:
              action: call-service
              service: script.huskers_exterior_show_stop
          - type: button
            name: TD Burst (Theater BPM)
            icon: mdi:flash
            tap_action:
              action: call-service
              service: script.huskers_td_burst_bpm_theater
          - type: button
            name: TD Burst (Exterior BPM)
            icon: mdi:flash-outline
            tap_action:
              action: call-service
              service: script.huskers_td_burst_bpm_exterior
          - type: button
            name: Simulate Score + Burst
            icon: mdi:beaker
            tap_action:
              action: call-service
              service: script.huskers_test_score_update
          - type: button
            name: Run All (Manual)
            icon: mdi:rocket-launch
            tap_action:
              action: call-service
              service: script.huskers_all_events_manual

      # ---- Quick lights while watching ----
      - type: entities
        title: Lights (Context)
        show_header_toggle: false
        entities:
          - light.theater_lights
          - light.front_porch_lights
          - light.all_exterior_lights
          - light.all_lights

  # ======================
  # VIEW 2 â€” Debug
  # ======================
  - title: Debug
    path: huskers-debug
    icon: mdi:bug
    badges: []
    cards:
      - type: markdown
        content: >
          # ðŸ”§ Huskers Debug
          Manual triggers, last-run times, and entities of interest.

      # ---- Scenes (if you kept them) ----
      - type: entities
        title: Scenes
        show_header_toggle: false
        entities:
          - scene.huskers_scarlet_theater
          - scene.huskers_cream_theater
          - scene.huskers_alternating_exterior
          - scene.huskers_alternating_exterior_inverted

      # ---- Scripts (status) ----
      - type: entities
        title: Scripts â€” Status
        show_header_toggle: false
        entities:
          - script.huskers_theater_show_start
          - script.huskers_theater_show_stop
          - script.huskers_exterior_show_start
          - script.huskers_exterior_show_stop
          - script.huskers_td_burst_bpm_theater
          - script.huskers_td_burst_bpm_exterior
          - script.huskers_led_td_burst
          - script.huskers_led_gameday_start
          - script.huskers_led_stop
          - script.huskers_test_score_update
          - script.huskers_all_events_manual
          - script.huskers_all_events_manual2
          - script.huskers_cleanup_all

      # ---- Manual Trigger Panel ----
      - type: grid
        square: false
        columns: 4
        cards:
          - type: button
            name: Theater Start
            icon: mdi:movie-open-star
            tap_action: { action: call-service, service: script.huskers_theater_show_start }
          - type: button
            name: Theater Stop
            icon: mdi:movie-open-off
            tap_action: { action: call-service, service: script.huskers_theater_show_stop }
          - type: button
            name: Exterior Start
            icon: mdi:coach-lamp
            tap_action: { action: call-service, service: script.huskers_exterior_show_start }
          - type: button
            name: Exterior Stop
            icon: mdi:coach-lamp-off
            tap_action: { action: call-service, service: script.huskers_exterior_show_stop }
          - type: button
            name: TD Burst (Theater BPM)
            icon: mdi:flash
            tap_action: { action: call-service, service: script.huskers_td_burst_bpm_theater }
          - type: button
            name: TD Burst (Exterior BPM)
            icon: mdi:flash-outline
            tap_action: { action: call-service, service: script.huskers_td_burst_bpm_exterior }
          - type: button
            name: LED TD Burst (30s)
            icon: mdi:led-strip-variant
            tap_action: { action: call-service, service: script.huskers_led_td_burst }
          - type: button
            name: Gameday LEDs (Gametime)
            icon: mdi:palette
            tap_action: { action: call-service, service: script.huskers_led_gameday_start }
          - type: button
            name: Cleanup All
            icon: mdi:broom
            tap_action: { action: call-service, service: script.huskers_cleanup_all }
          - type: button
            name: Run All (Manual)
            icon: mdi:rocket-launch
            tap_action: { action: call-service, service: script.huskers_all_events_manual }
          - type: button
            name: Run All (Manual 2)
            icon: mdi:rocket
            tap_action: { action: call-service, service: script.huskers_all_events_manual2 }
          - type: button
            name: Stop LED
            icon: mdi:led-off
            tap_action: { action: call-service, service: script.huskers_led_stop }

      # ---- Last Triggered (key scripts) ----
      - type: entities
        title: Last Triggered
        show_header_toggle: false
        entities:
          - entity: script.huskers_theater_show_start
            name: Theater Start â€” last_triggered
            attribute: last_triggered
          - entity: script.huskers_exterior_show_start
            name: Exterior Start â€” last_triggered
            attribute: last_triggered
          - entity: script.huskers_led_gameday_start
            name: LEDs Gametime â€” last_triggered
            attribute: last_triggered
          - entity: script.huskers_led_td_burst
            name: LED TD Burst â€” last_triggered
            attribute: last_triggered

      # ---- Logbook for Huskers items ----
      - type: logbook
        title: Logbook â€” Huskers
        entities:
          - sensor.husker_team
          - script.huskers_theater_show_start
          - script.huskers_theater_show_stop
          - script.huskers_exterior_show_start
          - script.huskers_exterior_show_stop
          - script.huskers_td_burst_bpm_theater
          - script.huskers_td_burst_bpm_exterior
          - script.huskers_led_td_burst
          - script.huskers_led_gameday_start
          - script.huskers_led_stop
          - script.huskers_test_score_update
          - script.huskers_all_events_manual
          - script.huskers_all_events_manual2
          - script.huskers_cleanup_all
          - scene.huskers_scarlet_theater
          - scene.huskers_cream_theater
          - scene.huskers_alternating_exterior
          - scene.huskers_alternating_exterior_inverted

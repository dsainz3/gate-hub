# AI Assist → creates a PR with YAML for a new automation/blueprint
intent_script:
  CreateAutomation:
    speech:
      text: "Got it — drafting '{{ request }}'. I'll open a PR shortly."
    action:
      - service: rest_command.ai_generate_automation
        data:
          request: '{{ request }}'
          user: "{{ user_name | default('unknown') }}"
          dry_run: false

rest_command:
  ai_generate_automation:
    url: 'http://automation-builder.local:8000/generate'
    method: POST
    content_type: 'application/json'
    payload: >
      {
        "prompt": {{ request | tojson }},
        "repo": "dsainz3/gate-hub",
        "base_branch": "main",
        "target_path": "packages/generated",
        "open_pr": true
      }
